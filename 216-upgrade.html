
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
    <LINK type="text/css" rel="stylesheet" href="resources/space.css">
    <STYLE type="text/css">

#PageContent {
	text-align: left;
	background-color: #fff;
	padding: 0px;
	margin: 0px;
    padding-bottom:20px; 
}

#TopTable {
    height: 104px; width: 100%; 
    background-image: url(/sunrise3.JPG); 
    background-repeat: no-repeat; 
    background-position: center;
}

div > #TopTable {
    position: fixed; z-index: 1; 
}

div > #PageContent {
    position: relative; 
    top: 114px;
}

      .footer {
        background-image:      url('/images/border/border_bottom.gif');
        background-repeat:     repeat-x;
        background-position:   left top;
        padding-top:           4px;
        color:                 #666;
      }
body, p, td, table, tr, .bodytext, .stepfield {
  font-family:          Trebuchet MS, Tahoma, sans-serif;
  font-size:            14px;
  margin:               0px;
  padding:              0px;
  padding-right:30px;
}
#leftColumn{
  float: left; 
  align: left; 
  text-align: left; 
  width: 13%; 
  border-right: solid lightgrey; 
  border-right-width:1px;
}
#leftColumn h5{
  text-decoration: none;
  color: #6B6965;
  font-size:            18px;
  font-weight: bold;
}
#leftColumn li a{
  text-decoration: none;
  color: #6B6965;
  font-weight: bold;
}
#leftColumn a:hover, #leftColumn a.active  {
  color: #1678C4;
  background-color: #F7EEDB;
}
#TopTable a{
  text-decoration: none;
  font-weight: bold;
}
    </STYLE>
    <SCRIPT type="text/javascript" language="javascript">
      var hide = null;
      var show = null;
      var children = null;

      function init() {

        /* Children initialization */
        hide = document.getElementById('hide');
        show = document.getElementById('show');
        children = document.all != null ?
                   document.all['children'] :
                   document.getElementById('children');
        if (children != null) {
          children.style.display = 'none';
          show.style.display = 'inline';
          hide.style.display = 'none';
        }
      }

      function showChildren() {
        children.style.display = 'block';
        show.style.display = 'none';
        hide.style.display = 'inline';
      }

      function hideChildren() {
        children.style.display = 'none';
        show.style.display = 'inline';
        hide.style.display = 'none';
      }
    </SCRIPT>
    <TITLE>2.16 Upgrade</TITLE>
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY onload="init()" style="background-color: #fff;">
<DIV>
    <TABLE id="TopTable" border="0" cellpadding="2" cellspacing="0" width="100%">
      <TR valign="bottom">
        <TD align="left" valign="bottom" class="topBarDiv" align="left" nowrap="">
          <!--img src="https://michaelsembwever.github.io/Sesat/sesat- black- logo.png" border="0"-->&nbsp;<A href="home.html" title="Sesat">Sesat</A>&nbsp;&gt;&nbsp;<A href="docs-support.html" title="Docs + Support">Docs + Support</A>&nbsp;&gt;&nbsp;<A href="upgrade-guides.html" title="Upgrade Guides">Upgrade Guides</A>&nbsp;&gt;&nbsp;<A href="" title="2.16 Upgrade">2.16 Upgrade</A>
        </TD>
        <TD align="right" valign="bottom" nowrap="">
          <FORM name="search" action="http://sesam.com/search/" method="get" onsubmit="getElementById('searchformq').value = getElementById('searchformq').value + ' site:sesat.no'; return true">
            <INPUT type="text" name="q" maxlength="255" value="" id="searchformq">        
            <INPUT type="submit" name="btnG" value="Search">
          </FORM>
        </TD>
      </TR> 
    </TABLE>
    <DIV id="PageContent">

<DIV id="leftColumn">
<H5 style="margin-top: -2px;">Get Sesat</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/product-whitepaper.html">
What is Sesat?</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/download.html" style="decorator-style: none;">
Download</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/kernel-feature-list.html">
Features</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/showcases-sesamno.html">
Screenshots</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/free-software-license.html">
License</A>
</LI>
</UL>

<H5>Documentation</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/development-guidelines.html">
Getting Started</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/tutorial-building-sesamcom.html">
Sesam.com tutorial</A>
</LI>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/faq.html">
FAQ</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
&nbsp;...<A href="https://michaelsembwever.github.io/Sesat/docs-support.html">more</A>
</LI>
</UL>
<H5>Development</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/kernel-roadmap.html">
Roadmap</A>
</LI>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/svn/">
Subversion Repository</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/getting-help.html">
Mailing lists</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/scarab/issues">
Issues</A>
</LI>
<!--LI class="none" style="list- style: none; margin- left: - 30px;">
<A href="https://michaelsembwever.github.io/Sesat/hudson/">
Hudson
</A>
</LI>
<LI class="none" style="list- style: none; margin- left: - 30px;">
<A href="https://michaelsembwever.github.io/Sesat/source/">
OpenGrok
</A>
</LI-->
</UL>

<H5>Projects</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/">Search Framework</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/sesat-core-api">Search Library</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/sesat-mojo/">Mojo</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-admin/sesat-user">User Service</A>
</LI>
</UL>

<H5>Commons</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="http://commons-ioc.sourceforge.net/">Contextual IoC</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-commons/commons-interpreter/">Interpreter</A><BR>
<A href="http://commons-reflect.sourceforge.net/">Reflection</A><BR>
<A href="http://commons-ref-map.sourceforge.net/">Reference Map</A><BR>
<A href="http://commons-visitor.sourceforge.net/">Visitor</A><BR>
</LI>
</UL>


<H5>Sitemap</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/sitemap.html">Sitemap</A><BR>
</LI>
</UL>
</DIV>

      <DIV class="pagecontent" style="width: 83%; float: right;">
        <DIV class="wiki-content">
          <STYLE type="text/css">/*<![CDATA[*/
div.rbtoc1213790394968 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1213790394968 ul {margin-left: 0px;padding-left: 5;}
div.rbtoc1213790394968 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</STYLE><DIV class="rbtoc1213790394968">
<UL>
    <LI><A href="#2.16Upgrade-Compatibilitychanges">Compatibility changes</A></LI>
<UL>
<UL>
<UL>
<UL>
<UL>
    <LI><A href="#2.16Upgrade-Enrichmentplacements%252814Feb2008%2529">Enrichment placements (14 Feb 2008)</A></LI>
    <LI><A href="#2.16Upgrade-Newmethodsforoffset%252FSearchCommand.isPaginated%2528%2529%25283Mar2008%2529">New methods for offset / SearchCommand.isPaginated() (3 Mar 2008)</A></LI>
    <LI><A href="#2.16Upgrade-AbstractSearchCommand.getParameter%2528..%2529nolongerusesjunkyard%25285Mar2008%2529">AbstractSearchCommand.getParameter(..) no longer uses junkyard (5 Mar 2008)</A></LI>
</UL>
</UL>
</UL>
</UL>
</UL>
    <LI><A href="#2.16Upgrade-NewFeatures">New Features</A></LI>
    <LI><A href="#2.16Upgrade-Requirements">Requirements</A></LI>
<UL>
<UL>
<UL>
<UL>
<UL>
    <LI><A href="#2.16Upgrade-MinimumJavarequiredbumpedtoJava6%252828Feb2008%2529">Minimum Java required bumped to Java6 (28 Feb 2008)</A></LI>
    <LI><A href="#2.16Upgrade-MinimumTomcatrequiredbumpedtoTomcat6%252828Feb2008%2529">Minimum Tomcat required bumped to Tomcat-6 (28 Feb 2008)</A></LI>
</UL>
</UL>
</UL>
</UL>
</UL>
</UL></DIV>

<H1><A name="2.16Upgrade-Compatibilitychanges"></A>Compatibility changes</H1>

<H6><A name="2.16Upgrade-Enrichmentplacements%2814Feb2008%29"></A>Enrichment placements (14 Feb 2008)</H6>
<BLOCKQUOTE><P><A href="https://jira.sesam.no/jira/browse/SEARCH-3654" rel="nofollow">SEARCH-3654 Generalized enrichment handling</A></P>

<P><INS>Removed APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>SearchTab.getEnrichmentLimit()</LI>
	<LI>SearchTab.getEnrichmentOnTop()</LI>
	<LI>SearchTab.getEnrichmentOnTopScore()</LI>
	<LI>EnrichmentHint.isAlwaysVisible()</LI>
</UL>


<P><INS>Added APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>EnrichmentPlacementHint class</LI>
	<LI>EnrichmentHint.getProperties()</LI>
</UL>


<P><INS>Changed API:</INS></P>
<UL class="alternate" type="square">
	<LI>AbstractEnrichmentDirective.placementCorrect(..)</LI>
</UL>


<P>The logic on how many enrichments to show and enrichment thresholds have been moved, from being static to a <TT>SearchTab</TT>, into the <TT>EnrichmentPlacementHint</TT> class.<BR>
The class is configured with the <TT>&lt;enrichment-placement&gt;</TT> element in views.xml.<BR>
Any vertical, or <TT>SearchTab</TT>, may have as many <TT>&lt;enrichment-placement&gt;</TT> as desired. It is intended that <TT>EnrichmentPlacementHint</TT> is used primarily by <TT>EnrichmentDirective</TT> implementation.</P>

<P>Both <TT>EnrichmentHint</TT> and <TT>EnrichmentPlacementHint</TT> may contain arbitrary properties. The properties for <TT>EnrichmentHint</TT> are passed into the corresponding search command result list as fields.</P>

<P><TT>EnrichmentHint.isAlwaysVisible()</TT> was removed, it's /reverse/ functionality re-implemented in genericno.sesam.no/velocity-directives's <TT>EnrichmentDirective</TT> as this was the sole place where it was false, ie <TT>always-visable=&quot;false&quot;</TT>.</P>

<P><TT>AbstractEnrichmentDirective.placementCorrect(..)</TT> method signature changed to take for the first parameter a <TT>DataModel</TT> instance instead of a <TT>SearchTab</TT> instance. This gave the implementation of the method more flexibility as <TT>SearchTab</TT> was easily derived from the <TT>DataModel</TT>.</P></BLOCKQUOTE>

<H6><A name="2.16Upgrade-Newmethodsforoffset%2FSearchCommand.isPaginated%28%29%283Mar2008%29"></A>New methods for offset / SearchCommand.isPaginated() (3 Mar 2008)</H6>
<BLOCKQUOTE>
<P><A href="https://jira.sesam.no/jira/browse/SEARCH-3733" rel="nofollow">SEARCH-3733 New methods for offset</A><BR>
<A href="https://jira.sesam.no/jira/browse/SEARCH-4264" rel="nofollow">SEARCH-4264 Nyhetss&oslash;k, netts&oslash;kberikelsen tar i bruk offset fra URL-en</A></P>

<P>Offset methods moved away from junkyard to using 'offset' navigator.<BR>
 No longer any need for SearchConfiguration's isPaging() or isIgnoreOffset() methods.</P>

<P><INS>Added APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>boolean SearchCommand.isPaginated()</LI>
	<LI>int AbstractSearchCommand.getOffset()</LI>
</UL>


<P><INS>Deprecated APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>int AbstractSearchCommand.getCurrentOffset(int i)   :: Use instead getOffset() +i</LI>
</UL>


<P><INS>Removed APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>SearchConfiguration.isPaging()</LI>
	<LI>CommandConfig.setPaging()</LI>
	<LI>NewsEspCommandConfig.isIgnoreOffset()</LI>
	<LI>NewsEspCommandConfig.setIgnoreOffset()</LI>
</UL>
</BLOCKQUOTE>

<H6><A name="2.16Upgrade-AbstractSearchCommand.getParameter%28..%29nolongerusesjunkyard%285Mar2008%29"></A>AbstractSearchCommand.getParameter(..) no longer uses junkyard (5 Mar 2008)</H6>
<BLOCKQUOTE>
<P><INS>Removed APIs:</INS></P>
<UL class="alternate" type="square">
	<LI>AbstractSearchCommand.getParameters()<BR>
Use AbstractSearchCommand.getParameter(parameterName) or datamodel.getParameters().getValues() instead.</LI>
</UL>
</BLOCKQUOTE>

<H1><A name="2.16Upgrade-NewFeatures"></A>New Features</H1>

<H1><A name="2.16Upgrade-Requirements"></A>Requirements</H1>

<H6><A name="2.16Upgrade-MinimumJavarequiredbumpedtoJava6%2828Feb2008%29"></A>Minimum Java required bumped to Java6 (28 Feb 2008)</H6>
<P>Sesat-kernel/sitemap-generator uses ServiceLoader to load PageProviders from skin sitemap jarfiles.</P>

<H6><A name="2.16Upgrade-MinimumTomcatrequiredbumpedtoTomcat6%2828Feb2008%29"></A>Minimum Tomcat required bumped to Tomcat-6 (28 Feb 2008)</H6>
<P>META-INF/context.xml unpacking during deployment on tomcat-5.5 kills the application. See <A href="https://jira.sesam.no/jira/browse/SEARCH-4296" rel="nofollow">SEARCH-4296 sesat r6123 incompatible with tomcat-5.5</A></P>
        </DIV>
              </DIV>

    <DIV style="clear: both;">
      <DIV style="float: left;">&nbsp;&copy; 2007-2009 <A href="http://schibsted.com/">Schibsted ASA</A></DIV>
      <DIV style="float: right;"><A href="mailto:mick@semb.wever.org">Contact</A>&nbsp;us</DIV>
    </DIV>

   </DIV>
</DIV>
</HTML>
