
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
  <HEAD>
    <LINK type="text/css" rel="stylesheet" href="resources/space.css">
    <STYLE type="text/css">

#PageContent {
	text-align: left;
	background-color: #fff;
	padding: 0px;
	margin: 0px;
    padding-bottom:20px; 
}

#TopTable {
    height: 104px; width: 100%; 
    background-image: url(/sunrise3.JPG); 
    background-repeat: no-repeat; 
    background-position: center;
}

div > #TopTable {
    position: fixed; z-index: 1; 
}

div > #PageContent {
    position: relative; 
    top: 114px;
}

      .footer {
        background-image:      url('/images/border/border_bottom.gif');
        background-repeat:     repeat-x;
        background-position:   left top;
        padding-top:           4px;
        color:                 #666;
      }
body, p, td, table, tr, .bodytext, .stepfield {
  font-family:          Trebuchet MS, Tahoma, sans-serif;
  font-size:            14px;
  margin:               0px;
  padding:              0px;
  padding-right:30px;
}
#leftColumn{
  float: left; 
  align: left; 
  text-align: left; 
  width: 13%; 
  border-right: solid lightgrey; 
  border-right-width:1px;
}
#leftColumn h5{
  text-decoration: none;
  color: #6B6965;
  font-size:            18px;
  font-weight: bold;
}
#leftColumn li a{
  text-decoration: none;
  color: #6B6965;
  font-weight: bold;
}
#leftColumn a:hover, #leftColumn a.active  {
  color: #1678C4;
  background-color: #F7EEDB;
}
#TopTable a{
  text-decoration: none;
  font-weight: bold;
}
    </STYLE>
    <SCRIPT type="text/javascript" language="javascript">
      var hide = null;
      var show = null;
      var children = null;

      function init() {

        /* Children initialization */
        hide = document.getElementById('hide');
        show = document.getElementById('show');
        children = document.all != null ?
                   document.all['children'] :
                   document.getElementById('children');
        if (children != null) {
          children.style.display = 'none';
          show.style.display = 'inline';
          hide.style.display = 'none';
        }
      }

      function showChildren() {
        children.style.display = 'block';
        show.style.display = 'none';
        hide.style.display = 'inline';
      }

      function hideChildren() {
        children.style.display = 'none';
        show.style.display = 'inline';
        hide.style.display = 'none';
      }
    </SCRIPT>
    <TITLE>Development using the SFC</TITLE>
  <META http-equiv="Content-Type" content="text/html;charset=UTF-8"></HEAD>
  <BODY onload="init()" style="background-color: #fff;">
<DIV>
    <TABLE id="TopTable" border="0" cellpadding="2" cellspacing="0" width="100%">
      <TR valign="bottom">
        <TD align="left" valign="bottom" class="topBarDiv" align="left" nowrap="">
          <!--img src="https://michaelsembwever.github.io/Sesat/sesat- black- logo.png" border="0"-->&nbsp;<A href="home.html" title="Sesat">Sesat</A>&nbsp;&gt;&nbsp;<A href="docs-support.html" title="Docs + Support">Docs + Support</A>&nbsp;&gt;&nbsp;<A href="" title="Development using the SFC">Development using the SFC</A>
        </TD>
        <TD align="right" valign="bottom" nowrap="">
          <FORM name="search" action="http://sesam.com/search/" method="get" onsubmit="getElementById('searchformq').value = getElementById('searchformq').value + ' site:sesat.no'; return true">
            <INPUT type="text" name="q" maxlength="255" value="" id="searchformq">        
            <INPUT type="submit" name="btnG" value="Search">
          </FORM>
        </TD>
      </TR> 
    </TABLE>
    <DIV id="PageContent">

<DIV id="leftColumn">
<H5 style="margin-top: -2px;">Get Sesat</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/product-whitepaper.html">
What is Sesat?</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/download.html" style="decorator-style: none;">
Download</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/kernel-feature-list.html">
Features</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/showcases-sesamno.html">
Screenshots</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/free-software-license.html">
License</A>
</LI>
</UL>

<H5>Documentation</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/development-guidelines.html">
Getting Started</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/tutorial-building-sesamcom.html">
Sesam.com tutorial</A>
</LI>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/faq.html">
FAQ</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
&nbsp;...<A href="https://michaelsembwever.github.io/Sesat/docs-support.html">more</A>
</LI>
</UL>
<H5>Development</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/kernel-roadmap.html">
Roadmap</A>
</LI>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/svn/">
Subversion Repository</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/getting-help.html">
Mailing lists</A>
</LI>
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/scarab/issues">
Issues</A>
</LI>
<!--LI class="none" style="list- style: none; margin- left: - 30px;">
<A href="https://michaelsembwever.github.io/Sesat/hudson/">
Hudson
</A>
</LI>
<LI class="none" style="list- style: none; margin- left: - 30px;">
<A href="https://michaelsembwever.github.io/Sesat/source/">
OpenGrok
</A>
</LI-->
</UL>

<H5>Projects</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/">Search Framework</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/sesat-core-api">Search Library</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-kernel/sesat-mojo/">Mojo</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-admin/sesat-user">User Service</A>
</LI>
</UL>

<H5>Commons</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="http://commons-ioc.sourceforge.net/">Contextual IoC</A><BR>
<A href="https://michaelsembwever.github.io/Sesat/projects/sesat-commons/commons-interpreter/">Interpreter</A><BR>
<A href="http://commons-reflect.sourceforge.net/">Reflection</A><BR>
<A href="http://commons-ref-map.sourceforge.net/">Reference Map</A><BR>
<A href="http://commons-visitor.sourceforge.net/">Visitor</A><BR>
</LI>
</UL>


<H5>Sitemap</H5>
<UL style="margin-top: -4px;">
<LI class="none" style="list-style: none; margin-left: -30px;">
<A href="https://michaelsembwever.github.io/Sesat/sitemap.html">Sitemap</A><BR>
</LI>
</UL>
</DIV>

      <DIV class="pagecontent" style="width: 83%; float: right;">
        <DIV class="wiki-content">
          <DIV class="panelMacro"><TABLE class="warningMacro"><COLGROUP><COL width="24"><COL></COLGROUP><TR><TD valign="top"><IMG src="http://confluence.finn.no/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></TD><TD><B>work in progress</B><BR></TD></TR></TABLE></DIV>
<P>For newcomers there's a <A href="tutorial-building-sesamcom.html" title="Tutorial - Building Sesam.com">tutorial</A> on how to build sesam.com. This may prove more useful to begin with than the following documentation.</P>

<H1><A name="DevelopmentusingtheSFC-DevelopmentUsingtheSFC"></A>Development Using the SFC</H1>

<DIV>
<UL>
    <LI><A href="#DevelopmentusingtheSFC-DevelopmentUsingtheSFC">Development Using the SFC</A></LI>
<UL>
    <LI><A href="#DevelopmentusingtheSFC-GeneralInformation">General Information</A></LI>
    <LI><A href="#DevelopmentusingtheSFC-StructureofanSFCapplication">Structure of an SFC application</A></LI>
<UL>
    <LI><A href="#DevelopmentusingtheSFC-Cataloguehierarchy">Catalogue hierarchy</A></LI>
    <LI><A href="#DevelopmentusingtheSFC-Versioning">Versioning</A></LI>
</UL>
    <LI><A href="#DevelopmentusingtheSFC-Configurationfiles">Configuration files</A></LI>
    <LI><A href="#DevelopmentusingtheSFC-HTMLTemplatesVelocityJSP">HTML Templates - Velocity - JSP</A></LI>
<UL>
<UL>
    <LI><A href="#DevelopmentusingtheSFC-Guidelines">Guidelines</A></LI>
</UL>
    <LI><A href="#DevelopmentusingtheSFC-CSS">CSS</A></LI>
    <LI><A href="#DevelopmentusingtheSFC-StandardTaglibs">Standard Taglibs</A></LI>
</UL>
    <LI><A href="#DevelopmentusingtheSFC-Navigators">Navigators</A></LI>
    <LI><A href="#DevelopmentusingtheSFC-Enrichments">Enrichments</A></LI>
</UL>
</UL></DIV>

<H2><A name="DevelopmentusingtheSFC-GeneralInformation"></A>General Information</H2>

<P>The SFC - SESAT Frontend Container - is the place to create vhosts that are using the full SESAT functionality.<BR>
All sites or applications running within the SFC also runs on the same JVM as the SESAT Kernel.</P>

<P>All code, configuration, images etc. related to a vhost are termed <B>resources</B>. These resources may be on the same file system as SESAT Kernel (in the Tomcat deployment catalogue), <B>or</B> they can be on some other server reachable by http.</P>

<P>In effect, SFC is just the notion of the JVM where we deploy and run applications using SESAT Kernel.</P>

<P>The following text will expose the details of how to create a site within the SFC.</P>

<H2><A name="DevelopmentusingtheSFC-StructureofanSFCapplication"></A>Structure of an SFC application</H2>


<H3><A name="DevelopmentusingtheSFC-Cataloguehierarchy"></A>Catalogue hierarchy</H3>

<P>The resources are found under the main catalogue. As for now we are using the following:</P>
<UL>
	<LI>/conf &#45;&nbsp; here is the config files, with basic files as modes.xml and views.xml</LI>
	<LI>/css - the css files mainly reside in the /css/tabs folder which are default mapped from the id attribute for each tab in views.xml</LI>
	<LI>/images</LI>
	<LI>/javascript</LI>
	<LI>/templates - velocity templates and jsp files.</LI>
</UL>


<P>The hierarchy for where a sitesearch is placed is:&nbsp; generic.sesam.no &#45;&gt; genericno.sesam.no &#45;&gt; genericsitesearch.sesam.no &#45;&gt; <B><EM>sitesearch</EM></B>.sesam.no (vg.sesam.no)</P>

<P>It's important to remember that every project inherits all the template-, css-, imagefiles and so on from the level above. That's a reason why we use the generic genericsitesearch.sesam.no to keep the sitesearch spesific stuff for itself.</P>

<H3><A name="DevelopmentusingtheSFC-Versioning"></A>Versioning</H3>

<UL class="alternate" type="square">
	<LI>versioning of css-templates, versioning of images etc., cache-control</LI>
</UL>


<H2><A name="DevelopmentusingtheSFC-Configurationfiles"></A>Configuration files</H2>

<UL class="alternate" type="square">
	<LI>detailed description of the configuration files</LI>
</UL>


<H2><A name="DevelopmentusingtheSFC-HTMLTemplatesVelocityJSP"></A>HTML Templates - Velocity - JSP</H2>

<BLOCKQUOTE><P>While not a requirement, most users would want to use HTML to encode search results. SESAT does not pose any strict requirements on the user, but we strongly recommend following international standards.</P></BLOCKQUOTE>
<P>While SESAT support any &quot;style&quot; of HTML-coding,  we recommend using XHTML 1.0 with the TRANSITIONAL doctype.<BR>
We recommend using the STRICT doctype, but with the extensively use of javascript today it would be impossible to make it valid.</P>

<P>&nbsp;The templates are defined through a custom templating system defined via the layout element in views.xml. Using these definitions work with the search:include tag or the searchTabInclude velocity macro.
<BR clear="all"></P>

<H4><A name="DevelopmentusingtheSFC-Guidelines"></A>Guidelines</H4>

<P>We recommend the following:</P>
<UL>
	<LI>All element&#45; and attribute names must be in lower case. All attribute values must be quoted.</LI>
	<LI>Close all elements. Example: &lt;img src=&quot;image.jpg&quot;   alt=&quot;&quot; /&gt;, &lt;br /&gt;</LI>
	<LI>Don't use deprecated elements and attributes&nbsp; <A href="http://www.html-reference.com/depreciated.htm" rel="nofollow">http://www.html-reference.com/depreciated.htm</A></LI>
	<LI>Avoid using tables for layout</LI>
	<LI>Keep number of elements as low as possible (overuse of div's)</LI>
	<LI>Allways add alt-attribute in &lt;img&gt; element</LI>
	<LI>Allways set width and height attributes for images inline. Example: &lt;img src=&quot;image.jpg&quot;   width=&quot;100&quot; height=&quot;200&quot; alt=&quot;&quot; /&gt;</LI>
	<LI>Encode ampersands in url's</LI>
	<LI>Use relative path instead of absolute where this is possible</LI>
	<LI>Make javascript unobtrusive where it's possible</LI>
</UL>


<UL>
	<LI>www subdomains - for example, we recommend <A href="http://sesam.no/" rel="nofollow">http://sesam.no</A> instead of <A href="http://www.sesam.no/" rel="nofollow">http://www.sesam.no</A>. All internal, and external links, should use the same way to link to sesam, not mixing the two. The Site class, responsible for handling the vhost always strips out any www. prefix.</LI>
</UL>


<P><B>The benefits by doing this are:</B></P>
<UL>
	<LI>Simpler development and maintenance</LI>
	<LI>Compatibility with futures web browsers</LI>
	<LI>Faster download and rendering of pages</LI>
	<LI>Better accessibility (for screenreaders and alternative browsing)</LI>
</UL>


<H3><A name="DevelopmentusingtheSFC-CSS"></A>CSS</H3>

<P>See <A href="developing-using-css.html" title="Developing using CSS">Developing using CSS</A></P>

<H3><A name="DevelopmentusingtheSFC-StandardTaglibs"></A>Standard Taglibs</H3>


<H2><A name="DevelopmentusingtheSFC-Navigators"></A>Navigators</H2>

<P>See <A href="navigation-documentation.html" title="Navigation documentation">Navigation documentation</A></P>

<H2><A name="DevelopmentusingtheSFC-Enrichments"></A>Enrichments</H2>

<P>Simple tutorial <A href="developing-a-quick-and-simple-enrichment-tutorial.html" title="Developing a quick and simple Enrichment tutorial">Developing a quick and simple Enrichment tutorial</A></P>
        </DIV>
                  <DIV class="tabletitle">
            Children
            <SPAN class="smalltext" id="show" style="display: inline;">
              <A href="javascript:showChildren()">Show Children</A></SPAN>
            <SPAN class="smalltext" id="hide" style="display: none;">
              <A href="javascript:hideChildren()">Hide Children</A></SPAN>
          </DIV>
          <DIV class="greybox" id="children" style="display: none;">
                                      <A href="developing-a-quick-and-simple-enrichment-tutorial.html" title="Developing a quick and simple Enrichment tutorial">Developing a quick and simple Enrichment tutorial</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="developing-using-css.html" title="Developing using CSS">Developing using CSS</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="howto-develop-a-runhandler.html" title="HOWTO develop a RunHandler">HOWTO develop a RunHandler</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="search-modes-schema-generator.html" title="Search modes schema generator">Search modes schema generator</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="navigation-documentation.html" title="Navigation documentation">Navigation documentation</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="tutorial-ajax-examples.html" title="Tutorial - Ajax examples">Tutorial - Ajax examples</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                          <A href="tutorial-building-sesamcom.html" title="Tutorial - Building Sesam.com">Tutorial - Building Sesam.com</A>
              <SPAN class="smalltext">(Sesat)</SPAN>
              <BR>
                      </DIV>
              </DIV>

    <DIV style="clear: both;">
      <DIV style="float: left;">&nbsp;&copy; 2007-2009 <A href="http://schibsted.com/">Schibsted ASA</A></DIV>
      <DIV style="float: right;"><A href="mailto:mick@semb.wever.org">Contact</A>&nbsp;us</DIV>
    </DIV>

   </DIV>
</DIV>
</HTML>
